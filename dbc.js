const bitFlags = list => {
  var ret = list.map((name, index) => ({
    value: Math.pow(2, index),
    index,
    name,
  })).filter(n => Boolean(n.name))

  ret.bitFlags = true
  return ret
}

const Rank = [
  'Normal',
  'Elite',
  'Rare Elite',
  'World Boss',
  'Rare',
]

const Family = [
  'Wolf',
  'Cat',
  'Spider',
  'Bear',
  'Boar',
  'Crocolisk',
  'Carrion Bird',
  'Crab',
  'Gorilla',
  'Raptor',
  'Tallstrider',
  'Felhunter',
  'Voidwalker',
  'Succubus',
  'Doomguard',
  'Scorpid',
  'Turtle',
  'Imp',
  'Bat',
  'Hyena',
  'Bird of Prey',
  'Wind Serpent',
  'Remote Control',
  'Felguard',
  'Dragonhawk',
  'Ravager',
  'Warp Stalker',
  'Sporebat',
  'Nether Ray',
  'Serpent',
  'Moth',
  'Chimaera',
  'Devilsaur',
  'Ghoul',
  'Silithid',
  'Worm',
  'Rhino',
  'Wasp',
  'Core Hound',
  'Spirit Beast',
]

const CreatureType = [
  'None',
  'Beast',
  'Dragonkin',
  'Demon',
  'Elemental',
  'Giant',
  'Undead',
  'Humanoid',
  'Critter',
  'Mechanical',
  'Not specified',
  'Totem',
  'Non-combat Pet',
  'Gas Cloud',
]

const RegenerateStats = [
  'Do NOT Regenerate Stats When Out Of Combat',
  'Regenerate Health When Out Of Combat',
  'Regenerate Power (Mana) When Out Of Combat',
  'Regenerate Health AND Power (Mana) When Out Of Combat',
]


const questSort = {
  1: 'Epic',
  22: 'Seasonal',
  24: 'Herbalism',
  25: 'Battlegrounds',
  61: 'Warlock',
  81: 'Warrior',
  82: 'Shaman',
  101: 'Fishing',
  121: 'Blacksmithing',
  141: 'Paladin',
  161: 'Mage',
  162: 'Rogue',
  181: 'Alchemy',
  182: 'Leatherworking',
  201: 'Engineering',
  221: 'Treasure Map',
  261: 'Hunter',
  262: 'Priest',
  263: 'Druid',
  264: 'Tailoring',
  284: 'Special',
  304: 'Cooking',
  324: 'First AID',
  344: 'Legendary',
  364: 'Darkmoon Faire',
  365: 'Ahn’Qiraj War',
  366: 'Lunar Festival',
  367: 'Reputation',
  368: 'Invasion',
  369: 'Midsummer',
  370: 'Brewfest',
  371: 'Inscription',
  372: 'Death Knight',
  373: 'Jewelcrafting',
  374: 'Noblegarden',
  375: 'Pilgrim’s Bounty',
  376: 'Love is in the Air',
  762: 'Riding',
}

const questInfo = [
  'Group',
  'Life',
  'PvP',
  'Raid',
  'Dungeon',
  'World Event',
  'Legendary',
  'Escort',
  'Heroic',
  'Raid (10)',
  'Raid (25)',
]

const chrClasses = bitFlags([
 'Warrior',
 'Paladin',
 'Hunter',
 'Rogue',
 'Priest',
 'Death Knight',
 'Shaman',
 'Mage',
 'Warlock',
 'Druid',
])

const race = bitFlags([
  'Human',
  'Orc',
  'Dwarf',
  'Night Elf',
  'Undead',
  'Tauren',
  'Gnome',
  'Troll',
  'Goblin',
  'Blood Elf',
  'Draenei',
  'Fel Orc',
  'Naga',
  'Broken',
  'Skeleton',
  'Vrykul',
  'Tuskarr',
  'Forest Troll',
  'Taunka',
  'Northrend Skeleton',
  'Ice Troll',
])

const powerType = [
  'Mana',
  'Rage',
  '?',
  'Energy',
]

const faction = [
  { rep: 87, name: 'Bloodsail Buccaneers' },
  { rep: 21, name: 'Booty Bay' },
  { rep: 92, name: 'Gelkis Clan Centaur' },
  { rep: 93, name: 'Magram Clan Centaur' },
  { rep: 59, name: 'Thorium Brotherhood' },
  { rep: 349, name: 'Ravenholdt' },
  { rep: 70, name: 'Syndicate' },
  { rep: 369, name: 'Gadgetzan' },
  { rep: 471, name: 'Wildhammer Clan' },
  { rep: 470, name: 'Ratchet' },
  { rep: 169, name: 'Steamwheedle Cartel' },
  { rep: 469, name: 'Alliance' },
  { rep: 67, name: 'Horde' },
  { rep: 529, name: 'Argent Dawn' },
  { rep: 76, name: 'Orgrimmar' },
  { rep: 530, name: 'Darkspear Trolls' },
  { rep: 81, name: 'Thunder Bluff' },
  { rep: 68, name: 'Undercity' },
  { rep: 54, name: 'Gnomeregan Exiles' },
  { rep: 72, name: 'Stormwind' },
  { rep: 47, name: 'Ironforge' },
  { rep: 69, name: 'Darnassus' },
  { rep: 86, name: 'Leatherworking – Dragonscale' },
  { rep: 83, name: 'Leatherworking – Elemental' },
  { rep: 549, name: 'Leatherworking – Tribal' },
  { rep: 551, name: 'Engineering – Gnome' },
  { rep: 550, name: 'Engineering – Goblin' },
  { rep: 589, name: 'Wintersaber Trainers' },
  { rep: 577, name: 'Everlook' },
  { rep: 46, name: 'Blacksmithing – Armorsmithing' },
  { rep: 289, name: 'Blacksmithing – Weaponsmithing' },
  { rep: 570, name: 'Blacksmithing – Axesmithing' },
  { rep: 571, name: 'Blacksmithing – Swordsmithing' },
  { rep: 569, name: 'Blacksmithing – Hammersmithing' },
  { rep: 574, name: 'Caer Darrow' },
  { rep: 576, name: 'Timbermaw Hold' },
  { rep: 609, name: 'Cenarion Circle' },
  { rep: 947, name: 'Thrallmar' },
  { rep: 946, name: 'Honor Hold' },
  { rep: 935, name: 'The Sha’tar' },
  { rep: 730, name: 'Stormpike Guard' },
  { rep: 729, name: 'Frostwolf Clan' },
  { rep: 749, name: 'Hydraxian Waterlords' },
  { rep: 980, name: 'The Burning Crusade' },
  { rep: 809, name: 'Shen’dralar' },
  { rep: 890, name: 'Silverwing Sentinels' },
  { rep: 889, name: 'Warsong Outriders' },
  { rep: 891, name: 'Alliance Forces' },
  { rep: 892, name: 'Horde Forces' },
  { rep: 930, name: 'Exodar' },
  { rep: 909, name: 'Darkmoon Faire' },
  { rep: 270, name: 'Zandalar Tribe' },
  { rep: 510, name: 'The Defilers' },
  { rep: 509, name: 'The League of Arathor' },
  { rep: 910, name: 'Brood of Nozdormu' },
  { rep: 911, name: 'Silvermoon City' },
  { rep: 922, name: 'Tranquillien' },
  { rep: 990, name: 'The Scale of the Sands' },
  { rep: 932, name: 'The Aldor' },
  { rep: 936, name: 'Shattrath City' },
  { rep: 933, name: 'The Consortium' },
  { rep: 941, name: 'The Mag’har' },
  { rep: 934, name: 'The Scryers' },
  { rep: 967, name: 'The Violet Eye' },
  { rep: 942, name: 'Cenarion Expedition' },
  { rep: 970, name: 'Sporeggar' },
  { rep: 978, name: 'Kurenai' },
  { rep: 989, name: 'Keepers of Time' },
  { rep: 1005, name: 'Friendly, Hidden' },
  { rep: 1011, name: 'Lower City' },
  { rep: 1012, name: 'Ashtongue Deathsworn' },
  { rep: 1015, name: 'Netherwing' },
  { rep: 1031, name: 'Sha’tari Skyguard' },
  { rep: 1038, name: 'Ogri’la' },
  { rep: 1050, name: 'Valiance Expedition' },
  { rep: 1052, name: 'Horde Expedition' },
  { rep: 1064, name: 'The Taunka' },
  { rep: 1067, name: 'The Hand of Vengeance' },
  { rep: 1068, name: 'Explorers’ League' },
  { rep: 1073, name: 'The Kalu’ak' },
  { rep: 1077, name: 'Shattered Sun Offensive' },
  { rep: 1085, name: 'Warsong Offensive' },
  { rep: 1082, name: 'REUSE' },
  { rep: 1091, name: 'The Wyrmrest Accord' },
  { rep: 1090, name: 'Kirin Tor' },
  { rep: 949, name: 'Test Faction 1' },
  { rep: 948, name: 'Test Faction 2' },
  { rep: 952, name: 'Test Faction 3' },
  { rep: 1037, name: 'Alliance Vanguard' },
  { rep: 1097, name: 'Wrath of the Lich King' },
  { rep: 1094, name: 'The Silver Covenant' },
  { rep: 1098, name: 'Knights of the Ebon Blade' },
  { rep: 1104, name: 'Frenzyheart Tribe' },
  { rep: 1105, name: 'The Oracles' },
  { rep: 1106, name: 'Argent Crusade' },
  { rep: 1117, name: 'Sholazar Basin' },
  { rep: 1118, name: 'Classic' },
  { rep: 1119, name: 'The Sons of Hodir' },
  { rep: 1124, name: 'The Sunreavers' },
  { rep: 1126, name: 'The Frostborn' },
  { rep: 1136, name: 'Tranquillien Conversion' },
  { rep: 1137, name: 'Wintersaber Conversion' },
  { rep: 1154, name: 'Silver Covenant Conversion' },
  { rep: 1155, name: 'Sunreavers Conversion' },
  { rep: 1156, name: 'The Ashen Verdict' },
]

const skill = {
  164: 'Blacksmithing',
  165: 'Leatherworking',
  171: 'Alchemy',
  185: 'Cooking',
  186: 'Mining',
  197: 'Tailoring',
  202: 'Engineering',
  356: 'Fishing',
  755: 'Jewelcrafting',
  333: 'Enchanting',
  129: 'First Aid',
  182: 'Herbalism',
  633: 'Lockpicking',
  393: 'Skinning',
}

module.exports = {
  dbc: {
    chrClasses,
    race,
    powerType,
    skill,
    faction,
    questSort,
    Rank,
    Family,
    CreatureType,
    RegenerateStats,
  },
  creature_template: {
    Rank,
    Family,
    CreatureType,
    RegenerateStats,
  },
  Quest_template: {
    RequiredRaces: race,
    RequiredClasses: chrClasses,
    RequiredSkill: skill,
    RepObjectiveFaction: faction,
    RequiredMinRepFaction: faction,
    RequiredMaxRepFaction: faction,
    QuestFlags: [
      'If the player dies, the quest is failed. (?)',
      'Escort quests or any other event-driven quests. If player in party, all players that can accept this quest will receive confirmation box to accept quest.',
      'Involves the activation of an areatrigger.',
      'Allows the quest to be shared with other players.',
      'Unknown at this time and not used.',
      'Epic class quests (hunter) (??)',
      'Raid or similiar player group needed for quest.',
      'Added with or after TBC.',
      'Quest needs extra non-objective items dropped (eg. ReqSourceID fields) (?)',
      'Item and monetary rewards are hidden in the initial quest details page and in the quest log but will appear once ready to be rewarded.',
      'These quests are automatically rewarded on quest complete.',
      'Blood elf/draenei starting zone quests.',
      'Daily repeatable quests (only flag that the core applies specific behavior for)',
      'Grizzly Hills PvP daily? Puts PvP-tag on? No idea.)',
    ],
  },
  item_template: {
    AllowableRace: race,
    AllowableClass: chrClasses,
    Flags: [
      'Soulbound',
      'Conjured',
      'Lootable (can be opened by right-click)',
      'Wrapped',
      '',
      'Totem',
      'Activatable with right-click',
      '',
      'Wrapper',
      '',
      'Gifts',
      'Item is party loot and can be looted by all',
      '',
      'Charter (Arena or Guild)',
      '',
      'PvP reward item',
      'Unique equipped (player can only have one equipped at the same time)',
      '',
      '',
      'Throwable (for tooltip ingame)',
      'Special Use',
    ],
    stat_type: [
      'ITEM_MOD_HEALTH',
      '',
      'ITEM_MOD_AGILITY',
      'ITEM_MOD_STRENGTH',
      'ITEM_MOD_INTELLECT',
      'ITEM_MOD_SPIRIT',
      'ITEM_MOD_STAMINA',
      '',
      '',
      '',
      '',
      'ITEM_MOD_DEFENSE_SKILL_RATING',
      'ITEM_MOD_DODGE_RATING',
      'ITEM_MOD_PARRY_RATING',
      'ITEM_MOD_BLOCK_RATING',
      'ITEM_MOD_HIT_MELEE_RATING',
      'ITEM_MOD_HIT_RANGED_RATING',
      'ITEM_MOD_HIT_SPELL_RATING',
      'ITEM_MOD_CRIT_MELEE_RATING',
      'ITEM_MOD_CRIT_RANGED_RATING',
      'ITEM_MOD_CRIT_SPELL_RATING',
      'ITEM_MOD_HIT_TAKEN_MELEE_RATING',
      'ITEM_MOD_HIT_TAKEN_RANGED_RATING',
      'ITEM_MOD_HIT_TAKEN_SPELL_RATING',
      'ITEM_MOD_CRIT_TAKEN_MELEE_RATING',
      'ITEM_MOD_CRIT_TAKEN_RANGED_RATING',
      'ITEM_MOD_CRIT_TAKEN_SPELL_RATING',
      'ITEM_MOD_HASTE_MELEE_RATING',
      'ITEM_MOD_HASTE_RANGED_RATING',
      'ITEM_MOD_HASTE_SPELL_RATING',
      'ITEM_MOD_HIT_RATING',
      'ITEM_MOD_CRIT_RATING',
      'ITEM_MOD_HIT_TAKEN_RATING',
      'ITEM_MOD_CRIT_TAKEN_RATING',
      'ITEM_MOD_RESILIENCE_RATING',
      'ITEM_MOD_HASTE_RATING',
      'ITEM_MOD_EXPERTISE_RATING',
    ],
    dmg_type: [
      'Physical',
      'Holy',
      'Fire',
      'Nature',
      'Frost',
      'Shadow',
      'Arcane',
    ],
    RequiredReputationRank: [
      'Hated',
      'Hostile',
      'Unfriendly',
      'Neutral',
      'Friendly',
      'Honored',
      'Revered',
      'Exalted',
    ],
    InventoryType: [
      'Non equipable',
      'Head',
      'Neck',
      'Shoulder',
      'Shirt',
      'Chest',
      'Waist',
      'Legs',
      'Feet',
      'Wrists',
      'Hands',
      'Finger',
      'Trinket',
      'Weapon',
      'Shield',
      'Ranged',
      'Back',
      'Two-Hand',
      'Bag',
      'Tabard',
      'Robe',
      'Main hand',
      'Off hand',
      'Holdable (Tome)',
      'Ammo',
      'Thrown',
      'Ranged right',
      'Quiver',
      'Relic',
    ],
    class: [
      {
        name: 'Consumable',
        subclass: [
          'Potion',
          'Elixir',
          'Flask',
          'Scroll',
          'Food & Drink',
          'Item Enhancement',
          'Bandage',
          'Other',
        ],
      },
      {
        name: 'Container',
        subclass: [
          'Bag',
          'Soul Bag',
          'Herb Bag',
          'Enchanting Bag',
          'Engineering Bag',
          'Gem Bag',
          'Mining Bag',
          'Leatherworking Bag',
        ],
      },
      {
        name: 'Weapon',
        subclass: [
          'Axe One handed',
          'Axe Two handed',
          'Bow',
          'Gun',
          'Mace  One handed',
          'Mace  Two handed',
          'Polearm',
          'Sword One handed',
          'Sword Two handed',
          'Obsolete',
          'Staff',
          'Exotic',
          'Exotic',
          'Fist Weapon',
          'Miscellaneous (Blacksmith Hammer, Mining Pick, etc.)',
          'Dagger',
          'Thrown',
          'Spear',
          'Crossbow',
          'Wand',
          'Fishing Pole',
        ],
      },
      {
        name: 'Gem',
        subclass: [
          'Red',
          'Blue',
          'Yellow',
          'Purple',
          'Green',
          'Orange',
          'Meta',
          'Simple',
          'Prismatic',
        ],
      },
      {
        name: 'Armor',
        subclass: [
          'Miscellaneous',
          'Cloth',
          'Leather',
          'Mail',
          'Plate',
          'Buckler(OBSOLETE)',
          'Shield',
          'Libram',
          'Idol',
          'Totem',
        ],
      },
      {
        name: 'Reagent',
        subclass: [
          'Reagent',
        ],
      },
      {
        name: 'Projectile',
        subclass: [
          'Wand(OBSOLETE)',
          'Bolt(OBSOLETE)',
          'Arrow',
          'Bullet',
          'Thrown(OBSOLETE)',
        ],
      },
      {
        name: 'Trade Goods',
        subclass: [
          'Trade Goods',
          'Parts',
          'Explosives',
          'Devices',
          'Jewelcrafting',
          'Cloth',
          'Leather',
          'Metal & Stone',
          'Meat',
          'Herb',
          'Elemental',
          'Other',
          'Enchanting',
        ],
      },
      {
        name: 'Generic(OBSOLETE)',
        subclass: [
          'Generic(OBSOLETE)',
        ],
      },
      {
        name: 'Recipe',
        subclass: [
          'Book',
          'Leatherworking',
          'Tailoring',
          'Engineering',
          'Blacksmithing',
          'Cooking',
          'Alchemy',
          'First Aid',
          'Enchanting',
          'Fishing',
          'Jewelcrafting',
        ],
      },
      {
        name: 'Money(OBSOLETE)',
        subclass: [
          'Money(OBSOLETE)',
        ],
      },
      {
        name: 'Quiver',
        subclass: [
          'Quiver(OBSOLETE)',
          'Quiver(OBSOLETE)',
          'Quiver  Can hold arrows',
          'Ammo Pouch  Can hold bullets',
        ],
      },
      {
        name: 'Quest',
        subclass: [
          'Quest',
        ],
      },
      {
        name: 'Key',
        subclass: [
          'Key',
          'Lockpick',
        ],
      },
      {
        name: 'Permanent(OBSOLETE)',
        subclass: [
          'Permanent',
        ],
      },
      {
        name: 'Miscellaneous',
        subclass: [
          'Junk',
          'Reagent',
          'Pet',
          'Holiday',
          'Other',
          'Mount',
        ],
      },
      {
        name: 'Glyph',
        subclass: [
          'Warrior',
          'Paladin',
          'Hunter',
          'Rogue',
          'Priest',
          'Death Knight',
          'Shaman',
          'Mage',
          'Warlock',
          'Druid',
        ],
      },
    ],
    spelltrigger: [
      'Use',
      'On Equip',
      'Chance on Hit',
      'Soulstone',
      'Use with no delay',
      'Learn spell if spellid_1 = 55884',
    ],
    bonding: [
      '',
      'Binds when picked up',
      'Binds when equipped',
      'Binds when used',
      'Quest item',
    ],
    material: [
      '',
      'Metal',
      'Wood',
      'Liquid',
      'Jewelry',
      'Chain',
      'Plate',
      'Cloth',
      'Leather',
    ],
    sheath: [
      '',
      'Two Handed Weapon Diagonally accross the back pointing down',
      'Staff Diagonally accross the back poiting up',
      'One Handed  To the side',
      'Shield  On the back in the middle',
      'Enchanter’s Rod ',
      'Off hand  On the other side of One Handed',
    ],
    BagFamily: bitFlags([
      'Arrows',
      'Bullets',
      'Soul Shards',
      'Leatherworking Supplies',
      '',
      'Herbs',
      'Enchanting Supplies',
      'Engineering Supplies',
      'Keys',
      'Gems',
      'Mining Supplies',
    ]),
    socketColor: bitFlags([
      'Meta',
      'Red',
      'Yellow',
      'Blue',
    ]),
    foodType: [
      '',
      'Meat',
      'Fish',
      'Cheese',
      'Bread',
      'Fungus',
      'Fruit',
      'Raw Meat',
      'Raw Fish',
    ],
    ExtraFlags: bitFlags([
      'None Consumable',
      'Realtime Duration',
    ]),
  },
}
